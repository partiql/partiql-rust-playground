{"version":3,"file":"react-svg-pan-zoom.min.js","mappings":"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","sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/decompose.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/flip.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromMovingPoints.js","webpack://ReactSVGPanZoom/external umd {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/webpack/runtime/define property getters","webpack://ReactSVGPanZoom/webpack/runtime/hasOwnProperty shorthand","webpack://ReactSVGPanZoom/webpack/runtime/make namespace object","webpack://ReactSVGPanZoom/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__787__, __WEBPACK_EXTERNAL_MODULE__619__) => {\nreturn ","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as ToolbarButton} from './ui-toolbar/toolbar-button';\nexport {default as IconCursor} from './ui-toolbar/icon-cursor';\nexport {default as IconPan} from './ui-toolbar/icon-pan';\nexport {default as IconFit} from './ui-toolbar/icon-fit';\nexport {default as IconZoomIn} from './ui-toolbar/icon-zoom-in';\nexport {default as IconZoomOut} from './ui-toolbar/icon-zoom-out';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/main'\n\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, activeToolColor, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP,\n  activeToolColor: '#1CA6FC'\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar = Toolbar, customMiniature: CustomMiniature = Miniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n\n  /**\n   *   width of the viewer displayed on screen\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n  * height of the viewer displayed on screen\n  */\n  height: PropTypes.number.isRequired,\n\n  /**\n  * value of the viewer (current camera view)\n  */\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  /**\n  * handler something changed\n  */\n  onChangeValue: PropTypes.func.isRequired,\n\n  /**\n  * current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  */\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  /**\n  * handler tool changed\n  */\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  /**\n  * background of the viewer\n  */\n  background: PropTypes.string,\n\n  /**\n  * background of the svg\n  */\n  SVGBackground: PropTypes.string,\n\n  /**\n  * style of the svg\n  */\n  SVGStyle: PropTypes.object,\n\n  /**\n  * CSS style of the Viewer\n  */\n  style: PropTypes.object,\n\n  /**\n  * className of the Viewer\n  */\n  className: PropTypes.string,\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  /**\n  * perform zoom operation on mouse scroll\n  */\n  detectWheel: PropTypes.bool,\n\n  /**\n  * perform PAN if the mouse is on viewer border\n  */\n  detectAutoPan: PropTypes.bool,\n\n  /**\n  * perform zoom operation on pinch gesture\n  */\n  detectPinchGesture: PropTypes.bool,\n\n  /**\n  * handler zoom level changed\n  */\n  onZoom: PropTypes.func,\n\n  /**\n  * handler pan action performed\n  */\n  onPan: PropTypes.func,\n\n  /**\n  * handler click\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * handler double click\n  */\n  onDoubleClick: PropTypes.func,\n\n  /**\n  * handler mouseup\n  */\n  onMouseUp: PropTypes.func,\n\n  /**\n  * handler mousemove\n  */\n  onMouseMove: PropTypes.func,\n\n  /**\n  * handler mousedown\n  */\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  /**\n  * if disabled the user can move the image outside the viewer\n  */\n  preventPanOutside: PropTypes.bool,\n\n  /**\n  * how much scale in or out\n  */\n  scaleFactor: PropTypes.number,\n\n  /**\n  * how much scale in or out on mouse wheel (requires detectWheel enabled)\n  */\n  scaleFactorOnWheel: PropTypes.number,\n\n  /**\n  * maximum amount of scale a user can zoom in to\n  */\n  scaleFactorMax: PropTypes.number,\n\n  /**\n  * minimum amount of a scale a user can zoom out of\n  */\n  scaleFactorMin: PropTypes.number,\n\n  /**\n  * modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  */\n  modifierKeys: PropTypes.array,\n\n  /**\n  * Turn off zoom on double click\n  */\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override miniature component\n  */\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * miniature props\n  */\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override toolbar component\n  */\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * toolbar props\n  */\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  /**\n  * accept only one node SVG\n  */\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  miniatureProps: {},\n};\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point)\n    ? [\n        matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n        matrix.b * point[0] + matrix.d * point[1] + matrix.f\n      ]\n    : {\n        x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n        y: matrix.b * point.x + matrix.d * point.y + matrix.f\n      }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by Peggy 2.0.1.\n//\n// https://peggyjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  var self = Error.call(this, message);\n  // istanbul ignore next Check is a necessary evil to support older environments\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(self, peg$SyntaxError.prototype);\n  }\n  self.expected = expected;\n  self.found = found;\n  self.location = location;\n  self.name = \"SyntaxError\";\n  return self;\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\nfunction peg$padEnd(str, targetLength, padString) {\n  padString = padString || \" \";\n  if (str.length > targetLength) { return str; }\n  targetLength -= str.length;\n  padString += padString.repeat(targetLength);\n  return str + padString.slice(0, targetLength);\n}\n\npeg$SyntaxError.prototype.format = function(sources) {\n  var str = \"Error: \" + this.message;\n  if (this.location) {\n    var src = null;\n    var k;\n    for (k = 0; k < sources.length; k++) {\n      if (sources[k].source === this.location.source) {\n        src = sources[k].text.split(/\\r\\n|\\n|\\r/g);\n        break;\n      }\n    }\n    var s = this.location.start;\n    var loc = this.location.source + \":\" + s.line + \":\" + s.column;\n    if (src) {\n      var e = this.location.end;\n      var filler = peg$padEnd(\"\", s.line.toString().length, ' ');\n      var line = src[s.line - 1];\n      var last = s.line === e.line ? e.column : line.length + 1;\n      var hatLen = (last - s.column) || 1;\n      str += \"\\n --> \" + loc + \"\\n\"\n          + filler + \" |\\n\"\n          + s.line + \" | \" + line + \"\\n\"\n          + filler + \" | \" + peg$padEnd(\"\", s.column - 1, ' ')\n          + peg$padEnd(\"\", hatLen, \"^\");\n    } else {\n      str += \"\\n at \" + loc;\n    }\n  }\n  return str;\n};\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts.join(\"\") + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n  var peg$source = options.grammarSource;\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$literalExpectation(\".\", false);\n  var peg$e11 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e12 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e13 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e14 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n      return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n    };\n  var peg$f3 = function(tx, ty) {\n      var t = {type: 'translate', tx: tx};\n      if (ty) t.ty = ty;\n      return [t];\n    };\n  var peg$f4 = function(sx, sy) {\n      var s = {type:'scale', sx: sx};\n      if (sy) s.sy = sy;\n      return [s];\n    };\n  var peg$f5 = function(angle, c) {\n      var r = {type:'rotate', angle: angle};\n      if (c) {\n        r.cx = c[0];\n        r.cy = c[1];\n      }\n      return [r];\n    };\n  var peg$f6 = function(angle) {\n      return [{type: 'skewX', angle: angle}];\n    };\n  var peg$f7 = function(angle) {\n      return [{type: 'skewY', angle: angle}];\n    };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$maxFailPos = 0;\n  var peg$maxFailExpected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return {\n      source: peg$source,\n      start: peg$savedPos,\n      end: peg$currPos\n    };\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos);\n    var endPosDetails = peg$computePosDetails(endPos);\n\n    return {\n      source: peg$source,\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e0); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$e2); }\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e4); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e5); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e7); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e10); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$e10); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e9); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e11); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e12); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e13); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e14); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n\n  peg$parse as parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","import { scale } from './scale'\nimport { compose } from './transform'\n/**\n * Decompose a matrix into translation, scaling and rotation components, optionally\n * take horizontal and vertical flip in to consideration.\n * Note this function decomposes a matrix in rotation -> scaling -> translation order. I.e. for\n * certain translation T {tx, ty}, rotation R and scaling S { sx, sy }, it's only true for:\n *  decomposeTSR(compose(T, S, R)) === { translate: T, rotation: R, scale: S }\n * composing in a different order may yield a different decomposition result.\n * @param matrix {Matrix} Affine Matrix\n * @param  flipX {boolean} Whether the matrix contains vertical flip, i.e. mirrors on x-axis\n * @param  flipY {boolean} Whether the matrix contains horizontal flip, i.e. mirrors on y-axis\n * @returns {Transform} A transform object consisted by its translation, scaling\n * and rotation components.\n */\nexport function decomposeTSR (matrix, flipX = false, flipY = false) {\n  // Remove flip from the matrix first - flip could be incorrectly interpreted as\n  // rotations (e.g. flipX + flipY = rotate by 180 degrees).\n  // Note flipX is a vertical flip, and flipY is a horizontal flip.\n  if (flipX) {\n    if (flipY) {\n      matrix = compose(matrix, scale(-1, -1))\n    } else {\n      matrix = compose(matrix, scale(1, -1))\n    }\n  } else if (flipY) {\n    matrix = compose(matrix, scale(-1, 1))\n  }\n\n  const a = matrix.a; const b = matrix.b\n  const c = matrix.c; const d = matrix.d\n  let scaleX, scaleY, rotation\n\n  if (a !== 0 || c !== 0) {\n    const hypotAc = Math.hypot(a, c)\n    scaleX = hypotAc\n    scaleY = (a * d - b * c) / hypotAc\n    const acos = Math.acos(a / hypotAc)\n    rotation = c > 0 ? -acos : acos\n  } else if (b !== 0 || d !== 0) {\n    const hypotBd = Math.hypot(b, d)\n    scaleX = (a * d - b * c) / hypotBd\n    scaleY = hypotBd\n    const acos = Math.acos(b / hypotBd)\n    rotation = Math.PI / 2 + (d > 0 ? -acos : acos)\n  } else {\n    scaleX = 0\n    scaleY = 0\n    rotation = 0\n  }\n\n  // put the flip factors back\n  if (flipY) {\n    scaleX = -scaleX\n  }\n\n  if (flipX) {\n    scaleY = -scaleY\n  }\n\n  return {\n    translate: { tx: matrix.e, ty: matrix.f },\n    scale: { sx: scaleX, sy: scaleY },\n    rotation: { angle: rotation }\n  }\n}\n","\n/**\n * Tranformation matrix that mirrors on x-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipX () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on y-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipY () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on origin\n * @returns {Matrix} Affine Matrix\n */\nexport function flipOrigin () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n","import { translate } from './translate'\nimport { applyToPoint } from './applyToPoint'\nimport { scale, rotate, compose } from './index'\n\n// https://manivannan-ai.medium.com/find-the-angle-between-three-points-from-2d-using-python-348c513e2cd\n\n/**\n * Calculate a transformation matrix from a point that starts from A to A'\n * This approach can be associated to a pointer that moves on a device\n * @param {Point} startingPoint - Starting point (A)\n * @param {Point} endingPoint - Ending point (A')\n */\nexport function fromOneMovingPoint (startingPoint, endingPoint) {\n  const tx = endingPoint.x - startingPoint.x\n  const ty = endingPoint.y - startingPoint.y\n\n  return translate(tx, ty)\n}\n\n/**\n * Calculate a transformation matrix about two points that move from positions A and B to A' and B'\n * This approach can be associated to a two finger gesture on a touch device\n * @param {Point} startingPoint1 - Starting Point (A)\n * @param {Point} startingPoint2 - Starting Point (B)\n * @param {Point} endingPoint1 - Ending point (A')\n * @param {Point} endingPoint2 - Ending Point (B')\n */\nexport function fromTwoMovingPoints (startingPoint1, startingPoint2, endingPoint1, endingPoint2) {\n  // finds translation\n  const translationMatrix = fromOneMovingPoint(startingPoint1, endingPoint1)\n\n  const pointA = applyToPoint(translationMatrix, startingPoint2) // I have to translate this point\n  const center = endingPoint1\n  const pointB = endingPoint2\n\n  // finds rotation matrix\n  const angle = Math.atan2(pointB.y - center.y, pointB.x - center.x) - Math.atan2(pointA.y - center.y, pointA.x - center.x)\n  const rotationMatrix = rotate(angle, center.x, center.y)\n\n  // finds scale matrix\n  const d1 = Math.sqrt(Math.pow(pointA.x - center.x, 2) + Math.pow(pointA.y - center.y, 2))\n  const d2 = Math.sqrt(Math.pow(pointB.x - center.x, 2) + Math.pow(pointB.y - center.y, 2))\n  const scalingLevel = d2 / d1\n  const scalingMatrix = scale(scalingLevel, scalingLevel, center.x, center.y)\n\n  return compose([\n    translationMatrix,\n    scalingMatrix,\n    rotationMatrix\n  ])\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__619__;","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(579);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__WEBPACK_EXTERNAL_MODULE__619__","originalEvent","value","SVGViewer","eventType","type","ViewerMouseEvent","ViewerTouchEvent","Error","ViewerEvent","this","_cacheDecomposedValue","decompose","scaleFactor","translationX","translationY","preventDefault","stopPropagation","_cachePoint","event","mousePosition","getMousePosition","getSVGPoint","x","y","point","touches","points","i","length","touch","rect","getBoundingClientRect","clientX","Math","round","left","clientY","top","push","identifier","_cachePoints","touchesToPoints","_cacheChangedPoints","changedTouches","matrix","fromObject","a","e","f","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","identity","version","mode","DEFAULT_MODE","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","viewerX","viewerY","inverseMatrix","inverse","applyToPoint","hasOwnProperty","MODE_IDLE","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","patch","action","Object","assign","freeze","ViewerDOM","tool","props","resetMode","MODE_PANNING","MODE_ZOOMING","indexOf","nextValue","detectPinchGesture","hasPinchPointDistance","shouldResetPinchPointDistance","onSingleTouch","onMouseUp","isMultiTouch","onMultiTouch","onMouseMove","onMouseDown","nextValueFn","touchPosition","getTouchPosition","TOOL_ZOOM_OUT","TOOL_ZOOM_IN","TOOL_AUTO","TOOL_PAN","x1","y1","x2","y2","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","isZoomLevelGoingOutOfBounds","cancelable","limitZoomLevel","coords","disableDoubleClickZoomWithToolAuto","modifierKeys","SVGPoint","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","zoom","TOOL_NONE","detectAutoPan","autoPanIfNeeded","startZooming","startPanning","setFocus","forceExit","buttons","stopZooming","updateZooming","stopPanning","updatePanning","preventPanOutside","undefined","detectWheel","delta","max","min","deltaY","mapRange","scaleFactorOnWheel","deltaX","d","pan","ACTION_PAN","panLimit","start","end","SVGDeltaX","SVGDeltaY","applyToPoints","moveX","moveY","SVGAlignX","ALIGN_LEFT","SVGAlignY","ALIGN_TOP","scaleX","scaleY","scaleLevel","scaleMatrix","translateX","translateY","remainderY","ALIGN_CENTER","ALIGN_BOTTOM","ALIGN_COVER","remainderX","ALIGN_RIGHT","translationMatrix","ACTION_ZOOM","abs","box","calculateBox","fitSelection","width","height","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","isNullOrUndefined","tipControlledComponent","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","tipDeprecatedMiniatureProps","toolbarPosition","tipDeprecateToolbarProps","doc_v2_to_v3","github_base","console","error","IconArrow","open","position","POSITION_LEFT","POSITION_RIGHT","stroke","fill","propTypes","PropTypes","bool","isRequired","oneOf","MiniatureMask","_uid","zoomToFit","maskID","id","style","mask","opacity","number","RandomUID","MiniatureToggleButton","onChangeValue","display","bottom","closeMiniature","openMiniature","onClick","object","func","Miniature","children","background","SVGBackground","ratio","overflow","outline","transition","centerTranslation","role","pointerEvents","string","defaultProps","ToolbarButton","state","hover","setState","margin","POSITION_TOP","POSITION_BOTTOM","color","active","activeColor","padding","border","cursor","onMouseEnter","change","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","title","name","React","Component","Toolbar","onChangeTool","activeToolColor","handleChangeTool","isHorizontal","right","backgroundColor","borderRadius","flexDirection","fitToViewer","handleFit","prefixID","BorderGradient","direction","gradientID","spreadMethod","offset","stopColor","stopOpacity","needPrefix","userAgent","navigator","toLowerCase","window","maxTouchPoints","Selection","strokeOpacity","fillOpacity","UncontrolledReactSVGPanZoom","defaultValue","defaultTool","Viewer","changeTool","bind","changeValue","zoomOnViewerCenter","setPointOnViewerCenter","reset","ref","WrappedComponent","uid","nextUID","displayName","getDisplayName","sourceStart","sourceEnd","targetStart","targetEnd","viewBoxString","split","filter","Boolean","map","Number","ReactSVGPanZoom","context","SVGViewBox","viewBox","parseViewBox","getDefaultValue","pointerX","pointerY","autoPanLoop","onWheel","prevProps","getValue","needUpdate","setSVGViewBox","setViewerSize","setZoomLevels","setValue","autoPanIsRunning","requestAnimationFrame","addEventListener","removeEventListener","isValueValid","onZoom","onPan","getTool","target","onEventHandler","click","dblclick","onDoubleClick","mousemove","mouseup","mousedown","touchstart","touchmove","onTouchMove","touchend","touchcancel","eventFactory","onInterval","customToolbar","CustomToolbar","customMiniature","CustomMiniature","panningWithToolAuto","cursorPolyfill","blockChildEvents","touchAction","className","handleViewerEvent","detectTouch","onMouseEnterOrLeave","toSVG","SVGStyle","toolbarProps","POSITION_NONE","miniatureProps","oneOfType","shape","b","c","array","element","propName","componentName","prop","types","Children","count","join","disableZoomWithToolAuto","Array","isArray","parseFloat","matrixRegex","fromString","parsed","match","denom","isUndefined","val","isNumeric","n","isNaN","isFinite","isAffineMatrix","obj","tx","ty","matrices","multiply","m1","m2","rest","compose","cos","sin","PI","rotate","angle","cx","cy","cosAngle","sinAngle","rotationMatrix","rotateDEG","sx","sy","shear","shx","shy","tan","skew","ax","ay","skewDEG","toCSS","smoothMatrix","precision","fromTriangles","t1","t2","px1","py1","px2","py2","qx1","qy1","qx2","qy2","rx1","ry1","rx2","ry2","fromDefinition","definitionOrArrayOfDefinition","mapper","descriptor","peg$SyntaxError","message","expected","found","location","call","setPrototypeOf","prototype","peg$padEnd","str","targetLength","padString","repeat","slice","peg$parse","input","options","peg$result","peg$FAILED","peg$source","grammarSource","peg$startRuleFunctions","transformList","peg$parsetransformList","peg$startRuleFunction","peg$c0","peg$c1","peg$c2","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$r0","peg$r1","peg$r2","peg$r3","peg$e0","peg$literalExpectation","peg$e1","peg$e2","peg$e3","peg$e4","peg$e5","peg$e6","peg$e7","peg$e8","peg$e9","description","peg$e10","peg$e11","peg$classExpectation","peg$e12","peg$e13","peg$e14","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","text","ignoreCase","parts","inverted","peg$computePosDetails","pos","p","details","charCodeAt","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","source","peg$fail","s1","s2","s3","s4","peg$parsewsp","peg$parsetransforms","s0","ts","peg$parsetransform","peg$parsecommaWsp","concat","s5","s7","s9","s11","s13","s15","s16","s17","substr","peg$parsenumber","peg$parsematrix","s6","s8","t","peg$parsecommaWspNumber","peg$parsetranslate","s","peg$parsescale","r","peg$parsecommaWspTwoNumbers","peg$parserotate","peg$parseskewX","peg$parseskewY","peg$parsesign","d1","d2","peg$parsedigitSequence","peg$parsefractionalConstant","peg$parseexponent","peg$parsefloatingPointConstant","peg$parseintegerConstant","parseInt","peg$parsecomma","test","charAt","peg$parsedigit","buildMessage","fromTransformAttribute","transformString","decomposeTSR","flipX","flipY","rotation","hypotAc","hypot","acos","hypotBd","flipOrigin","fromOneMovingPoint","startingPoint","endingPoint","fromTwoMovingPoints","startingPoint1","startingPoint2","endingPoint1","endingPoint2","pointA","center","pointB","atan2","scalingLevel","child","parent","C","constructor","peg$subclass","format","sources","k","src","loc","filler","toString","hatLen","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","class","escapedParts","part","classEscape","any","other","hex","ch","toUpperCase","replace","describeExpectation","j","descriptions","sort","describeExpected","describeFound","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","key","o","defineProperty","enumerable","get","Symbol","toStringTag"],"sourceRoot":""}